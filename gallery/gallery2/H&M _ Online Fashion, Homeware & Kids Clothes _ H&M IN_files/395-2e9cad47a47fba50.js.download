(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{20645:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(97582),s=n(67294),a=n(80979),o=n(55596),i=n(828),c=n(61403),u=n(94184),l=n.n(u),d=n(59526),v=n.n(d),f=function(e){var t=(0,i.Z)((0,c.Z)(e,v()),1)[0];return s.createElement("span",{className:l()(v().container,t,e.className)})},b=n(28933),m=function(e){var t=e.copyKey,n=void 0===t?"":t,i=e.replacements,c=e.shouldSanitize,u=void 0===c||c,l=e.className,d=e.customReplacementFunction,v=(0,r.__rest)(e,["copyKey","replacements","shouldSanitize","className","customReplacementFunction"]),m=(0,a.Z)(),g=m.showLabelKeys,h=m.isFetchingLabels;if(g)return s.createElement(s.Fragment,null,n);if(h)return s.createElement(f,{marginless:!0,small:!0});var L=(0,o.Z)(n,{replacements:i});return d?s.createElement(s.Fragment,null,d(L)):s.createElement(b.Z,Object.assign({className:l,input:L,sanitized:u},v))}},33735:function(e,t,n){"use strict";var r=n(97582),s=n(83598),a={EXISTS:"EXISTS",LOADED:"LOADED",ERROR:"ERROR"},o={};t.Z=function(e){var t=e.src,n=e.onStateUpdate,i=(0,r.__rest)(e,["src","onStateUpdate"]);if(!s.Z)return null;var c=!!t&&o[t],u=c?document.querySelector('script[src="'.concat(t,'"]')):null;if(c)return null===n||void 0===n||n(a.EXISTS,a),null;if(u&&!c)return u.addEventListener("load",(function(){n(a.LOADED,a)})),u.addEventListener("error",(function(){n(a.ERROR,a)})),null;var l=document.createElement("script");return t&&(l.setAttribute("src",t),l.setAttribute("defer","true")),Object.keys(i).forEach((function(e){l.setAttribute(e,i[e])})),l.addEventListener("load",(function(){o[t]=!0,null===n||void 0===n||n(a.LOADED,a)})),l.addEventListener("error",(function(){o[t]=!0,null===n||void 0===n||n(a.ERROR,a)})),document.head.appendChild(l),l}},80979:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r,s=n(828),a=n(67294),o=n(61890),i=n(11628),c=n(83598),u=n(7841),l=function(e,t){var n=(0,u.Z)(),r=(0,a.useState)((function(){try{return c.Z&&window.sessionStorage.getItem(e)||t}catch(n){return i.ZP.error("failed to read from sessionStorage ".concat(n)),t}})),s=r[0],o=r[1];return[s,(0,a.useCallback)((function(t){try{n()&&o(t),window.sessionStorage.setItem(e,t)}catch(r){i.ZP.error("failed to write to sessionStorage ".concat(r))}}),[])]},d=n(69835),v=n(39475),f=n(29815),b=n(97582),m=n(95108),g=n(36926),h=n(59410),L=n(89657),_=n(4725),w=n(14924),S=n(83067),p=n(34155),E=function(e,t,n,r){return"".concat(p.env.LSL_DOMAIN,"/lsl-service/api/translation/key/").concat(e,"-").concat(t.toUpperCase(),"?compressed=true&userid=").concat(n).concat(p.env.LSL_BRAND_ID?"&brandId=".concat(p.env.LSL_BRAND_ID):"","&mastercopyFallback=true").concat(r?"&file=".concat(r):"")},Z={no_no:"nb_no"},y=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;return(0,b.__awaiter)(void 0,void 0,void 0,(function(){var u,l,d,v,m,g,_,y,I;return(0,b.__generator)(this,(function(b){switch(b.label){case 0:if(l={},!t)return[2,l];if(d=e||(0,o.Z)(),v=(0,s.Z)(null===(u=Z[d]||d)||void 0===u?void 0:u.split("_"),2),m=v[0],g=v[1],!m||!g)return[2,l];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,h.ZP.get(E(m,g,t,r),{headers:Object.assign({"lsl-api-key":p.env.LSL_API_KEY,"lsl-akamai-key":p.env.LSL_AKAMAI_KEY},a&&(0,h.yP)()),shouldRemoveData:!0})];case 2:return y=b.sent(),l=(_=Object).assign.apply(_,[{}].concat((0,f.Z)(null===y||void 0===y?void 0:y.data.data.map((function(e){return(0,w.Z)({},e.key,e.translation)}))))),n&&(0,L.U)(l,t,d,r),(0,S.k)(),null===c||void 0===c||c.info(y,"fetchLslLabels success"),[3,4];case 3:return I=b.sent(),i.ZP.error(I,I),null===c||void 0===c||c.error(I,"fetchLslLabels error"),[3,4];case 4:return[2,l]}}))}))};!function(e){e.Aem="aemLabels",e.Hybris="hybrisLabels",e.Lsl="lslLabels"}(r||(r={}));var I=function(e,t,n,r,s){return(0,b.__awaiter)(void 0,void 0,void 0,(function(){var a,o;return(0,b.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,g.ZP.get("labels",{use:{locale:m.W.use.locale||!!t},customLocale:t,headers:Object.assign(Object.assign(Object.assign(Object.assign({},(0,h.XF)()),(0,h.rJ)()),(0,h.h5)(n)),r&&(0,h.yP)())})];case 1:return a=c.sent(),e&&(0,L.Xn)(null===a||void 0===a?void 0:a.data,t),(0,S.k)(),null===s||void 0===s||s.info(a,"fetchHybrisLabels success"),[2,null===a||void 0===a?void 0:a.data];case 2:return o=c.sent(),i.ZP.error(o),null===s||void 0===s||s.error(o,"fetchHybrisLabels error"),[2,{}];case 3:return[2]}}))}))},O=function(e,t,n,r){return(0,b.__awaiter)(void 0,void 0,void 0,(function(){var s,a;return(0,b.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,g.ZP.get("i18n.json",{use:{apiVersion:!1,locale:m.W.use.locale||!!t},customLocale:t,headers:Object.assign(Object.assign(Object.assign({},(0,h.XF)()),(0,h.rJ)()),n&&(0,h.yP)())})];case 1:return s=o.sent(),e&&(0,L.Hz)(null===s||void 0===s?void 0:s.data,t),null===r||void 0===r||r.info(s,"fetchAemLabels success"),[2,null===s||void 0===s?void 0:s.data];case 2:return a=o.sent(),i.ZP.error(a),null===r||void 0===r||r.error(a,"fetchAemLabels error"),[2,{}];case 3:return[2]}}))}))},A=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0;return(0,b.__awaiter)(void 0,void 0,void 0,(function(){var c,u,l,v,m,g,h;return(0,b.__generator)(this,(function(b){switch(b.label){case 0:return c=!0,u=(0,_.v3)(t),l=(0,_.gz)(t),v=!!n&&(0,_.wj)(n,t,s),m=c&&!u,e&&e(d.v.Loading),[4,Promise.all((0,f.Z)(m?[O(r,t,o,i)]:[{}]).concat((0,f.Z)(l?[{}]:[I(r,t,a,o,i)]),(0,f.Z)(v?[{}]:[y(t,n,r,s,o,i)])))];case 1:return g=b.sent(),e&&e(d.v.LoadedSuccess),h={hybrisLabels:r&&l?l:g[1],lslLabels:(r&&v?v:g[2])||void 0},c&&(h.aemLabels=r&&!m?u:g[0]),[2,h]}}))}))},R="FETCHING_LABELS",k=n(38897),D=!1,j=function(){var e=(0,k.Z)(),t=(0,s.Z)(l(R,!1),2),n=t[0],r=t[1],i=(0,o.Z)(),c="labels_aem_".concat(i),u="labels.hybris.".concat(i),f=(0,v.s)()?"visibilitychange":"beforeunload";return(0,a.useEffect)((function(){var t=!window.sessionStorage.getItem(R),n=!!window.sessionStorage.getItem(c),s=!!window.sessionStorage.getItem(u),a=!n;e?r(d.v.LoadedSuccess):(t||a&&!s)&&A(r)}),[]),(0,a.useEffect)((function(){if(!(sessionStorage.getItem(R)!==d.v.LoadedSuccess))return function(){};var e=window.setInterval((function(){sessionStorage.getItem(R)===d.v.LoadedSuccess&&(r(d.v.LoadedSuccess),window.clearInterval(e))}),250);return function(){return window.clearInterval(e)}}),[]),(0,a.useEffect)((function(){D||(D=!0,window.addEventListener(f,(function(){window.sessionStorage.removeItem(R)})))}),[]),{allLabels:(0,S.Z)(),isFetchingLabels:n!==d.v.LoadedSuccess,showLabelKeys:e}}},7841:function(e,t,n){"use strict";var r=n(67294);t.Z=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},59526:function(e){e.exports={container:"kM7Y",shimmer:"k78s",small:"l1md",marginless:"wCDw"}}}]);